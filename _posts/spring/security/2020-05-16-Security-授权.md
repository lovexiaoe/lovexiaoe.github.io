---
title: spring-security-授权
published: true
category: spring-security
---

### 授权架构
所有的Authentication 实现存储了一系列的GrantedAuthority 对象，这些对象被AuthenticationManager 插入到Authentication ，接下来会在
执行授权策略的时候被AccessDecisionManager 读取。     
GrantedAuthority 是只有一个方法的接口：
```
String getAuthority();
```
#### AccessDecisionManager
AccessDecisionManager被AbstractSecurityInterceptor 调用，负责做出最终访问控制的决策。该接口包含如下3个方法：
```java
void decide(Authentication authentication, Object secureObject,
    Collection<ConfigAttribute> attrs) throws AccessDeniedException;
boolean supports(ConfigAttribute attribute);
boolean supports(Class clazz);
```
decide方法传递了需要做出授权决策的所有相关信息。supports(ConfigAttribute) 方法被AbstractSecurityInterceptor在启动时调用，决定
AccessDecisionManager是否可以处理ConfigAttribute 