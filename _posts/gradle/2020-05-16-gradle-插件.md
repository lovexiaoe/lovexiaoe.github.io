---
title: gradle-插件
published: true
category: gradle
---

### java
java插件将Java编译以及测试和捆绑功能添加到项目中。是其他很多jvm语言gradle插件的基础。在build.gradle中引用如下：
```groovy
plugins {
    id 'java'
}
```

#### 任务
java插件定义了很多任务，常用的有如下：
* compileJava 使用jdk编译源码
* compileTestJava 编译测试源码
* jar 组装jar文件。
* test 执行Junit或者TestNG测试等。
* 其他相关任务，略，可参考官方文档。   

还有资源集合相关的任务：
* compileSourceSetJava 使用jdk编译资源集合的java源代码。
* processSourceSetResources 复制资源的源码到指定的资源路径
* sourceSetClasses 继承自compileSourceSetJava 和 processSourceSetResources，编译资源集合并打包执行。

生命周期相关任务：
* assemble 继承自jar任务，组装集成所有压缩包。
* check 继承自test任务，运行测试并验证。
* build 继承check,assemble任务，执行整个项目的构建。
* 其他相关任务，略，可参考官方文档。

#### 依赖配置
java插件添加了一系列依赖配置。
* implementation 继承自compile,编译时依赖。
* compileOnly 只在编译时使用，不会再运行时使用。
* compileClasspath 继承自compile, compileOnly, implementation。编译路径，编译源码时使用，被compileJava任务调用。
* annotationProcessor 编译期间注解处理。
* runtimeOnly 只在运行时使用。
* runtimeClasspath 继承自runtimeOnly, runtime, implementation，包含implementation元素的运行时路径。
* testImplementation 仅在测试执行时依赖。
* 其他测试相关的依赖配置。略。
* archives 项目生产构件，任务uploadArchives使用。

#### 扩展
java插件也提供了一些扩展，如下：
```groovy
java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}
```